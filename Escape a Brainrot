local lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/WhoGodsyoure/Home/refs/heads/main/%E4%BA%BA%E7%94%9F%E3%81%AE%E6%84%8F%E5%91%B3%E3%81%A8%E3%81%AF%E4%BD%95%E3%81%8B"))() 
local FlagsManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/WhoGodsyoure/Home/refs/heads/main/Configure"))()

local main = lib:Load({
      Title = 'ArchiveXNova',
      ToggleButton = "rbxassetid://85025739024001",
	  BindGui = Enum.KeyCode.RightControl,
  })

local Main = main:AddTab("Welcome")
main:SelectTab()

local MainSection = Main:AddSection({Title = "Escape a Brainrot", Description = "Description", Defualt = false , Locked = false})
local GroupButtons =   MainSection:AddGroupButton()

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local Player = Players.LocalPlayer

local function HRP()
    local c = Player.Character or Player.CharacterAdded:Wait()
    return c:WaitForChild("HumanoidRootPart")
end

local WorldsFolder = workspace.DynamicObjects.Worlds
local SelectedWorld
local SelectedSpeed
local SelectedTeleport = "Teleport"

local looping = false

local speedDelay = {
    Normal = 0.5,
    Fast = 0.25,
    ["Super Fast"] = 0.1,
    ["Speed of light"] = 0,
    Stable = 0.4,
    ["Debug Mode"] = 1,
    Lightning = 0,
    ["Hyper Speed"] = 0,
    Quantum = 0,
    Instant = 0,
    Immediate = 0,
    Rapid = 0.05,
    Swift = 0.1,
    Quick = 0.15,
    Express = 0.08,
    Blitz = 0,
    Flash = 0,
    Sonic = 0,
    Turbo = 0,
    Extreme = 0,
    Ultimate = 0,
    Maximum = 0,
    Optimal = 0.2,
    Balanced = 0.3,
    Conservative = 0.6,
    Minimal = 0.8,
    Lite = 0.7,
    Standard = 0.5,
    Premium = 0.2,
    Professional = 0.15,
    Enterprise = 0.1,
    ["Pro Precision"] = 0.05,
    ["Pro Optimized"] = 0.05,
    ["Extreme Burst"] = 0,
    ["Extreme No Delay"] = 0,
}

local function getWorldPos()
    if not SelectedWorld then return end
    local world = WorldsFolder:FindFirstChild(SelectedWorld)
    if not world then return end
    local win = world:FindFirstChild("Win")
    if not win then return end
    return win:GetPivot().Position
end

local function move(pos)
    if SelectedTeleport == "Teleport" then
        HRP().CFrame = CFrame.new(pos)
    elseif SelectedTeleport == "Tween" then
        TweenService:Create(
            HRP(),
            TweenInfo.new(0.3, Enum.EasingStyle.Linear),
            {CFrame = CFrame.new(pos)}
        ):Play()
    end
end

local function once(mode)
    local pos = getWorldPos()
    if not pos then return end
    move(pos)
    local d = speedDelay[mode] or 0.3
    if d == 0 then
        RunService.Heartbeat:Wait()
    else
        task.wait(d)
    end
end

local function startLoop(mode)
    if looping then return end
    looping = true
    task.spawn(function()
        while looping do
            once(mode)
        end
    end)
end

local function stopLoop()
    looping = false
end

local worldOptions = {}
for _,v in ipairs(WorldsFolder:GetChildren()) do
    table.insert(worldOptions, v.Name)
end

MainSection:AddDropdown("WorldSelect", {
    Title = "Select World",
    Description = "",
    Options = worldOptions,
    Default = "",
    PlaceHolder = "Search World",
    Multiple = false,
    Callback = function(v)
        SelectedWorld = v
    end
})

MainSection:AddDropdown("SpeedMode", {
    Title = "Speed Mode",
    Description = "",
    Options = {
        "Just once | Normal","Just once | Fast","Just once | Super Fast","Just once | Speed of light",
        "Just once | Stable","Just once | Debug Mode","Just once | Lightning","Just once | Hyper Speed",
        "Just once | Quantum","Just once | Instant","Just once | Immediate","Just once | Rapid",
        "Just once | Swift","Just once | Quick","Just once | Express","Just once | Blitz",
        "Just once | Flash","Just once | Sonic","Just once | Turbo","Just once | Extreme",
        "Just once | Ultimate","Just once | Maximum","Just once | Optimal","Just once | Balanced",
        "Just once | Conservative","Just once | Minimal","Just once | Lite","Just once | Standard",
        "Just once | Premium","Just once | Professional","Just once | Enterprise",
        "Just once | Pro Precision","Just once | Pro Optimized","Just once | Extreme Burst",
        "Just once | Extreme No Delay",

        "Loop | Fast","Loop | Super Fast","Loop | Speed of light","Loop | Stable","Loop | Safe Mode",
        "Loop | Smart Speed","Loop | X Times","Loop | Timed (30s)","Loop | Timed (1m)",
        "Loop | Timed (5m)","Loop | Retry on Fail","Loop | Auto Recover","Loop | Pause on Error",
        "Loop | Cooldown Mode","Loop | Burst Mode","Loop | Priority High","Loop | Priority Normal",
        "Loop | Priority Low","Loop | Godspeed","Loop | Overdrive","Loop | Limit Break",
        "Loop | Infinite","Loop | Pro Mode","Loop | Extreme Mode","Loop | Pro Balanced",
        "Loop | Pro Efficient","Loop | Pro Persistent","Loop | Pro Controlled",
        "Loop | Extreme Speed","Loop | Extreme Pressure","Loop | Extreme Continuous",
        "Loop | Extreme Unrestricted","Loop | Extreme Risk",

        "Stop Loop",

        "Auto | Adaptive Speed","Auto | Smart Mode","Auto | Context Aware","Auto | Auto Pause",
        "Auto | Pro Automation","Auto | Extreme Automation","Auto | Extreme Autonomous",
        "Auto | Extreme Self Running",

        "Performance | Performance Based","Performance | Low CPU","Performance | FPS Friendly",
        "Performance | Throttled Mode","Performance | Auto Optimize","Performance | Mobile Friendly",
        "Performance | Pro Balance","Performance | Extreme Performance",

        "Farm | Efficient","Farm | Aggressive","Farm | AFK Friendly","Farm | Background Mode",
        "Farm | Safe Farm","Farm | Auto Resume","Farm | Auto Pause","Farm | Smart Targeting",
        "Farm | Pro Farming","Farm | Extreme Farming","Stop Farm",

        "System | Emergency Stop","System | Soft Reset","System | Hard Reset",
        "System | Status Monitor","System | Mode Indicator","System | Pro Control",
        "System | Extreme Control",
    },
    Default = "",
    PlaceHolder = "Select Speed",
    Multiple = false,
    Callback = function(choice)
        stopLoop()
        if choice == "Stop Loop" or choice == "Stop Farm" or choice == "System | Emergency Stop" then
            return
        end
        local cat, mode = choice:match("^(.-)%s|%s(.+)$")
        if cat == "Just once" then
            once(mode)
        elseif cat == "Loop" then
            startLoop(mode)
        else
            startLoop("Balanced")
        end
    end
})

MainSection:AddDropdown("TeleportMode", {
    Title = "Teleport Mode",
    Description = "",
    Options = {"Teleport","Tween"},
    Default = "",
    PlaceHolder = "Select Method",
    Multiple = false,
    Callback = function(v)
        SelectedTeleport = v
    end
})
